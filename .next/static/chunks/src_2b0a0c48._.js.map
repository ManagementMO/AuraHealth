{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MohammedElshrief/Downloads/AuraHealth/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MohammedElshrief/Downloads/AuraHealth/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACZ,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACjB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACvB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IACnB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,KAAoD;QAApD,EAAE,SAAS,EAAE,GAAG,OAAoC,GAApD;IAClB,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MohammedElshrief/Downloads/AuraHealth/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MohammedElshrief/Downloads/AuraHealth/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,KAIoC;QAJpC,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD,GAJpC;IAKhB,qBACE,6LAAC,uKAAA,CAAA,OAAsB;QACrB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,uKAAA,CAAA,YAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,AAAC,eAAiC,OAAnB,MAAM,CAAC,SAAS,CAAC,GAAE;YAAI;;;;;;;;;;;AAIlE;KArBS","debugId":null}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MohammedElshrief/Downloads/AuraHealth/src/components/aura/PatientCheckin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport { toast } from \"sonner\";\r\nimport { CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\n// Note: Using manual WebSocket connections instead of @humeai/voice-react for more control\r\n\r\n// TypeScript interfaces for component state and data\r\ninterface EmotionDataPoint {\r\n  timestamp: number;\r\n  emotions: {\r\n    joy: number;\r\n    sadness: number;\r\n    anger: number;\r\n    fear: number;\r\n    surprise: number;\r\n    disgust: number;\r\n    contempt: number;\r\n  };\r\n  confidence: number;\r\n  source: 'facial' | 'vocal';\r\n}\r\n\r\ninterface CheckinState {\r\n  phase: 'idle' | 'recording' | 'finished';\r\n  timeRemaining: number;\r\n  webcamReady: boolean;\r\n  webcamError: string | null;\r\n  emotionData: EmotionDataPoint[];\r\n  humeWebSocket: WebSocket | null;\r\n  eviWebSocket: WebSocket | null;\r\n  humeToken: string | null;\r\n  isConnecting: boolean;\r\n  conversationTranscript: string[];\r\n  connectionStatus: {\r\n    facial: 'connecting' | 'connected' | 'error' | 'disconnected';\r\n    vocal: 'connecting' | 'connected' | 'error' | 'disconnected';\r\n  };\r\n}\r\n\r\ninterface PatientCheckinProps {\r\n  // Future props for configuration\r\n  className?: string;\r\n}\r\n\r\nexport function PatientCheckin({}: PatientCheckinProps) {\r\n  // Component state management for idle/recording/finished phases\r\n  const [checkinState, setCheckinState] = useState<CheckinState>({\r\n    phase: 'idle',\r\n    timeRemaining: 60, // 60-second timer\r\n    webcamReady: false,\r\n    webcamError: null,\r\n    emotionData: [],\r\n    humeWebSocket: null,\r\n    eviWebSocket: null,\r\n    humeToken: null,\r\n    isConnecting: false,\r\n    conversationTranscript: [],\r\n    connectionStatus: {\r\n      facial: 'disconnected',\r\n      vocal: 'disconnected',\r\n    },\r\n  });\r\n\r\n  const webcamRef = useRef<Webcam>(null);\r\n  const timerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Request webcam permissions when component loads\r\n  useEffect(() => {\r\n    const requestWebcamAccess = async () => {\r\n      try {\r\n        // Request camera permissions\r\n        const stream = await navigator.mediaDevices.getUserMedia({ \r\n          video: true, \r\n          audio: true \r\n        });\r\n        \r\n        // If successful, set webcam as ready\r\n        setCheckinState(prev => ({ \r\n          ...prev, \r\n          webcamReady: true, \r\n          webcamError: null \r\n        }));\r\n        \r\n        // Stop the stream since react-webcam will handle it\r\n        stream.getTracks().forEach(track => track.stop());\r\n        \r\n      } catch (error) {\r\n        console.error('Webcam access error:', error);\r\n        \r\n        let errorMessage = 'Unable to access camera';\r\n        let instructions = 'Please check your camera permissions and try again.';\r\n        \r\n        if (error instanceof Error) {\r\n          if (error.name === 'NotAllowedError' || error.name === 'PermissionDeniedError') {\r\n            errorMessage = 'Camera access denied';\r\n            instructions = 'Please allow camera access in your browser settings and refresh the page.';\r\n          } else if (error.name === 'NotFoundError' || error.name === 'DevicesNotFoundError') {\r\n            errorMessage = 'No camera found';\r\n            instructions = 'Please connect a camera device and refresh the page.';\r\n          } else if (error.name === 'NotReadableError' || error.name === 'TrackStartError') {\r\n            errorMessage = 'Camera is already in use';\r\n            instructions = 'Please close other applications using the camera and try again.';\r\n          }\r\n        }\r\n        \r\n        setCheckinState(prev => ({ \r\n          ...prev, \r\n          webcamReady: false, \r\n          webcamError: errorMessage \r\n        }));\r\n        \r\n        // Show toast notification with error and instructions\r\n        toast.error(errorMessage, {\r\n          description: instructions,\r\n          duration: 8000,\r\n        });\r\n      }\r\n    };\r\n\r\n    requestWebcamAccess();\r\n  }, []);\r\n\r\n  // Fetch Hume AI access token\r\n  const fetchHumeToken = async (): Promise<string | null> => {\r\n    try {\r\n      const response = await fetch('/api/hume/token');\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json().catch(() => ({}));\r\n        \r\n        if (response.status === 500 && errorData.error === 'Server configuration error') {\r\n          console.warn('Hume AI credentials not configured - running in demo mode');\r\n          toast.info('Demo Mode', {\r\n            description: 'Emotion analysis is not configured. Recording will work without AI analysis.',\r\n            duration: 5000,\r\n          });\r\n          return 'demo-mode';\r\n        }\r\n        \r\n        throw new Error(`Token fetch failed: ${response.status} - ${errorData.error || 'Unknown error'}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (data.error) {\r\n        throw new Error(data.error);\r\n      }\r\n      \r\n      if (!data.accessToken) {\r\n        throw new Error('No access token received');\r\n      }\r\n      \r\n      return data.accessToken;\r\n    } catch (error) {\r\n      console.error('Error fetching Hume token:', error);\r\n      toast.error('Authentication failed', {\r\n        description: 'Unable to connect to emotion analysis service. Recording will work without AI analysis.',\r\n        duration: 5000,\r\n      });\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Initialize Hume AI WebSocket connections\r\n  const initializeHumeConnections = async () => {\r\n    if (checkinState.isConnecting || checkinState.humeToken) {\r\n      return;\r\n    }\r\n\r\n    setCheckinState(prev => ({ \r\n      ...prev, \r\n      isConnecting: true,\r\n      connectionStatus: {\r\n        facial: 'connecting',\r\n        vocal: 'connecting'\r\n      }\r\n    }));\r\n\r\n    try {\r\n      // Fetch secure access token\r\n      const token = await fetchHumeToken();\r\n      \r\n      if (!token) {\r\n        setCheckinState(prev => ({ ...prev, isConnecting: false }));\r\n        return;\r\n      }\r\n\r\n      setCheckinState(prev => ({ ...prev, humeToken: token }));\r\n\r\n      // If in demo mode, skip WebSocket connections\r\n      if (token === 'demo-mode') {\r\n        console.log('Running in demo mode - skipping Hume AI WebSocket connections');\r\n        setCheckinState(prev => ({ \r\n          ...prev, \r\n          isConnecting: false,\r\n          humeWebSocket: null,\r\n          eviWebSocket: null,\r\n          connectionStatus: {\r\n            facial: 'disconnected',\r\n            vocal: 'disconnected'\r\n          }\r\n        }));\r\n        return;\r\n      }\r\n\r\n          // Initialize Expression Measurement API WebSocket for facial analysis\r\n      const expressionWs = new WebSocket(\r\n        `wss://api.hume.ai/v0/stream/models`\r\n      );\r\n\r\n      expressionWs.onopen = () => {\r\n        console.log('Expression Measurement WebSocket connected');\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            facial: 'connected'\r\n          }\r\n        }));\r\n        \r\n        // Send authentication and configuration\r\n        const authMessage = {\r\n          models: {\r\n            face: {}\r\n          },\r\n          stream_window_ms: 1000,\r\n          reset_stream: true\r\n        };\r\n        \r\n        expressionWs.send(JSON.stringify(authMessage));\r\n      };\r\n\r\n      expressionWs.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n          \r\n          // Handle facial expression predictions\r\n          if (data.face && data.face.predictions && data.face.predictions.length > 0) {\r\n            const prediction = data.face.predictions[0];\r\n            \r\n            if (prediction.emotions && prediction.emotions.length > 0) {\r\n              // Convert Hume emotion array to our emotion object format\r\n              const emotions = {\r\n                joy: 0,\r\n                sadness: 0,\r\n                anger: 0,\r\n                fear: 0,\r\n                surprise: 0,\r\n                disgust: 0,\r\n                contempt: 0,\r\n              };\r\n\r\n              // Map Hume emotions to our format\r\n              prediction.emotions.forEach((emotion: any) => {\r\n                const emotionName = emotion.name.toLowerCase();\r\n                if (emotionName in emotions) {\r\n                  emotions[emotionName as keyof typeof emotions] = emotion.score;\r\n                }\r\n              });\r\n\r\n              const emotionPoint: EmotionDataPoint = {\r\n                timestamp: Date.now(),\r\n                emotions,\r\n                confidence: prediction.prob || 0.5,\r\n                source: 'facial'\r\n              };\r\n\r\n              setCheckinState(prev => ({\r\n                ...prev,\r\n                emotionData: [...prev.emotionData, emotionPoint]\r\n              }));\r\n            }\r\n          }\r\n        } catch (error) {\r\n          console.error('Error processing facial emotion data:', error);\r\n        }\r\n      };\r\n\r\n      expressionWs.onerror = (error) => {\r\n        console.error('Expression Measurement WebSocket error:', error);\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            facial: 'error'\r\n          }\r\n        }));\r\n        \r\n        toast.error('Facial analysis connection failed', {\r\n          description: 'Unable to connect to facial emotion analysis.',\r\n          duration: 5000,\r\n        });\r\n      };\r\n\r\n      expressionWs.onclose = () => {\r\n        console.log('Expression Measurement WebSocket closed');\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            facial: 'disconnected'\r\n          }\r\n        }));\r\n      };\r\n\r\n      // Initialize EVI API WebSocket for vocal analysis and intelligent conversation\r\n      const eviWs = new WebSocket(\r\n        `wss://api.hume.ai/v0/evi/chat`,\r\n        [],\r\n        {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'X-Hume-Api-Key': token\r\n          }\r\n        } as any\r\n      );\r\n\r\n      eviWs.onopen = () => {\r\n        console.log('EVI WebSocket connected');\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            vocal: 'connected'\r\n          }\r\n        }));\r\n        \r\n        // Configure EVI session for healthcare conversation\r\n        const sessionConfig = {\r\n          type: 'session_settings',\r\n          session_settings: {\r\n            type: 'session_settings',\r\n            system_prompt: \"You are a compassionate healthcare assistant helping patients prepare for their appointment. Your role is to listen empathetically as they describe how they've been feeling and gently encourage them to share their health concerns. Keep responses brief and supportive. Ask follow-up questions to help them articulate their feelings and symptoms clearly. This is a rehearsal conversation to help them prepare for their actual doctor visit.\",\r\n            voice: {\r\n              provider: \"HUME_AI\",\r\n              name: \"ITO\"\r\n            },\r\n            language: \"en\",\r\n            max_duration: 60000, // 60 seconds\r\n            inactivity_timeout: 10000 // 10 seconds of silence\r\n          }\r\n        };\r\n        \r\n        eviWs.send(JSON.stringify(sessionConfig));\r\n      };\r\n\r\n      eviWs.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n          \r\n          // Handle different EVI message types\r\n          switch (data.type) {\r\n            case 'user_message':\r\n              // Add user message to conversation transcript\r\n              if (data.message && data.message.content) {\r\n                setCheckinState(prev => ({\r\n                  ...prev,\r\n                  conversationTranscript: [...prev.conversationTranscript, `User: ${data.message.content}`]\r\n                }));\r\n              }\r\n\r\n              // Process vocal prosody data from user speech\r\n              if (data.models && data.models.prosody && data.models.prosody.scores) {\r\n                const prosodyScores = data.models.prosody.scores;\r\n                \r\n                // Convert prosody scores to our emotion format\r\n                const emotions = {\r\n                  joy: 0,\r\n                  sadness: 0,\r\n                  anger: 0,\r\n                  fear: 0,\r\n                  surprise: 0,\r\n                  disgust: 0,\r\n                  contempt: 0,\r\n                };\r\n\r\n                // Map prosody emotions to our format\r\n                Object.keys(prosodyScores).forEach(emotionName => {\r\n                  const normalizedName = emotionName.toLowerCase();\r\n                  if (normalizedName in emotions) {\r\n                    emotions[normalizedName as keyof typeof emotions] = prosodyScores[emotionName];\r\n                  }\r\n                });\r\n\r\n                const emotionPoint: EmotionDataPoint = {\r\n                  timestamp: Date.now(),\r\n                  emotions,\r\n                  confidence: data.models.prosody.confidence || 0.7,\r\n                  source: 'vocal'\r\n                };\r\n\r\n                setCheckinState(prev => ({\r\n                  ...prev,\r\n                  emotionData: [...prev.emotionData, emotionPoint]\r\n                }));\r\n              }\r\n              break;\r\n\r\n            case 'assistant_message':\r\n              // Add assistant message to conversation transcript\r\n              if (data.message && data.message.content) {\r\n                setCheckinState(prev => ({\r\n                  ...prev,\r\n                  conversationTranscript: [...prev.conversationTranscript, `Assistant: ${data.message.content}`]\r\n                }));\r\n              }\r\n              console.log('EVI Assistant response:', data.message?.content);\r\n              break;\r\n\r\n            case 'audio_output':\r\n              // Handle audio responses from EVI (AI speaking back)\r\n              if (data.data) {\r\n                // Play audio response from EVI\r\n                const audioBlob = new Blob([Uint8Array.from(atob(data.data), c => c.charCodeAt(0))], {\r\n                  type: 'audio/wav'\r\n                });\r\n                const audioUrl = URL.createObjectURL(audioBlob);\r\n                const audio = new Audio(audioUrl);\r\n                audio.play().catch(error => {\r\n                  console.error('Error playing EVI audio response:', error);\r\n                });\r\n              }\r\n              break;\r\n\r\n            case 'session_status':\r\n              console.log('EVI Session status:', data.status);\r\n              break;\r\n\r\n            default:\r\n              console.log('Unknown EVI message type:', data.type);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error processing EVI message:', error);\r\n        }\r\n      };\r\n\r\n      eviWs.onerror = (error) => {\r\n        console.error('EVI WebSocket error:', error);\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            vocal: 'error'\r\n          }\r\n        }));\r\n        \r\n        toast.error('Voice analysis connection failed', {\r\n          description: 'Unable to connect to voice emotion analysis and conversation.',\r\n          duration: 5000,\r\n        });\r\n      };\r\n\r\n      eviWs.onclose = () => {\r\n        console.log('EVI WebSocket closed');\r\n        \r\n        setCheckinState(prev => ({\r\n          ...prev,\r\n          connectionStatus: {\r\n            ...prev.connectionStatus,\r\n            vocal: 'disconnected'\r\n          }\r\n        }));\r\n      };\r\n\r\n      // Store WebSocket connections in state\r\n      setCheckinState(prev => ({\r\n        ...prev,\r\n        humeWebSocket: expressionWs,\r\n        eviWebSocket: eviWs,\r\n        isConnecting: false,\r\n      }));\r\n\r\n    } catch (error) {\r\n      console.error('Error initializing Hume connections:', error);\r\n      setCheckinState(prev => ({ ...prev, isConnecting: false }));\r\n      \r\n      toast.error('Connection failed', {\r\n        description: 'Unable to initialize emotion analysis services.',\r\n        duration: 5000,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Initialize Hume connections when component mounts\r\n  useEffect(() => {\r\n    initializeHumeConnections();\r\n    \r\n    // Cleanup WebSocket connections on unmount\r\n    return () => {\r\n      if (checkinState.humeWebSocket) {\r\n        checkinState.humeWebSocket.close();\r\n      }\r\n      if (checkinState.eviWebSocket) {\r\n        checkinState.eviWebSocket.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Handle webcam ready state\r\n  const handleWebcamReady = () => {\r\n    setCheckinState(prev => ({ \r\n      ...prev, \r\n      webcamReady: true, \r\n      webcamError: null \r\n    }));\r\n  };\r\n\r\n  // Handle webcam errors\r\n  const handleWebcamError = (error: string | DOMException) => {\r\n    console.error('Webcam error:', error);\r\n    \r\n    let errorMessage = 'Camera error occurred';\r\n    let instructions = 'Please refresh the page and try again.';\r\n    \r\n    if (typeof error === 'string') {\r\n      errorMessage = error;\r\n    } else if (error instanceof DOMException) {\r\n      if (error.name === 'NotAllowedError') {\r\n        errorMessage = 'Camera access denied';\r\n        instructions = 'Please allow camera access in your browser settings and refresh the page.';\r\n      } else if (error.name === 'NotFoundError') {\r\n        errorMessage = 'No camera found';\r\n        instructions = 'Please connect a camera device and refresh the page.';\r\n      }\r\n    }\r\n    \r\n    setCheckinState(prev => ({ \r\n      ...prev, \r\n      webcamReady: false, \r\n      webcamError: errorMessage \r\n    }));\r\n    \r\n    toast.error(errorMessage, {\r\n      description: instructions,\r\n      duration: 8000,\r\n    });\r\n  };\r\n\r\n  // Start recording function\r\n  const startRecording = async () => {\r\n    if (checkinState.phase !== 'idle' || !checkinState.webcamReady) {\r\n      return;\r\n    }\r\n\r\n    // Check if we have a token (either real or demo mode)\r\n    if (!checkinState.humeToken) {\r\n      toast.error('Connection not ready', {\r\n        description: 'Please wait for services to initialize.',\r\n        duration: 3000,\r\n      });\r\n      return;\r\n    }\r\n\r\n    const isDemoMode = checkinState.humeToken === 'demo-mode';\r\n\r\n    // Set recording phase and reset timer\r\n    setCheckinState(prev => ({\r\n      ...prev,\r\n      phase: 'recording',\r\n      timeRemaining: 60,\r\n      emotionData: [], // Reset emotion data for new recording\r\n    }));\r\n\r\n    // Start streaming video frames to Expression Measurement API (if not in demo mode)\r\n    let videoStreamInterval: NodeJS.Timeout | null = null;\r\n    \r\n    if (!isDemoMode) {\r\n      const streamVideoFrames = () => {\r\n        if (webcamRef.current && checkinState.humeWebSocket && checkinState.phase === 'recording') {\r\n          const canvas = document.createElement('canvas');\r\n          const video = webcamRef.current.video;\r\n          \r\n          if (video && video.videoWidth > 0 && video.videoHeight > 0) {\r\n            canvas.width = video.videoWidth;\r\n            canvas.height = video.videoHeight;\r\n            \r\n            const ctx = canvas.getContext('2d');\r\n            if (ctx) {\r\n              ctx.drawImage(video, 0, 0);\r\n              \r\n              // Convert canvas to base64 image (JPEG format for better performance)\r\n              const imageData = canvas.toDataURL('image/jpeg', 0.7);\r\n              const base64Data = imageData.split(',')[1];\r\n              \r\n              // Send frame to Expression Measurement API with proper format\r\n              if (checkinState.humeWebSocket.readyState === WebSocket.OPEN) {\r\n                const message = {\r\n                  data: base64Data,\r\n                  models: {\r\n                    face: {}\r\n                  },\r\n                  stream_window_ms: 1000,\r\n                  reset_stream: false\r\n                };\r\n                \r\n                checkinState.humeWebSocket.send(JSON.stringify(message));\r\n              }\r\n            }\r\n          }\r\n        }\r\n      };\r\n\r\n      // Start video frame streaming (every 300ms for optimal performance vs accuracy balance)\r\n      videoStreamInterval = setInterval(streamVideoFrames, 300);\r\n    } else {\r\n      // In demo mode, generate mock emotion data\r\n      videoStreamInterval = setInterval(() => {\r\n        if (checkinState.phase === 'recording') {\r\n          const mockEmotionPoint: EmotionDataPoint = {\r\n            timestamp: Date.now(),\r\n            emotions: {\r\n              joy: Math.random() * 0.3 + 0.1,\r\n              sadness: Math.random() * 0.2,\r\n              anger: Math.random() * 0.1,\r\n              fear: Math.random() * 0.15,\r\n              surprise: Math.random() * 0.2,\r\n              disgust: Math.random() * 0.1,\r\n              contempt: Math.random() * 0.05,\r\n            },\r\n            confidence: Math.random() * 0.3 + 0.7,\r\n            source: 'facial'\r\n          };\r\n\r\n          setCheckinState(prev => ({\r\n            ...prev,\r\n            emotionData: [...prev.emotionData, mockEmotionPoint]\r\n          }));\r\n        }\r\n      }, 500);\r\n    }\r\n\r\n    // Start audio capture for EVI (if not in demo mode)\r\n    if (!isDemoMode) {\r\n      try {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ \r\n          audio: {\r\n            sampleRate: 16000,\r\n            channelCount: 1,\r\n            echoCancellation: true,\r\n            noiseSuppression: true,\r\n            autoGainControl: true\r\n          }, \r\n          video: false \r\n        });\r\n        \r\n        // Set up audio processing for EVI WebSocket with proper format\r\n        const audioContext = new AudioContext({ sampleRate: 16000 });\r\n        const source = audioContext.createMediaStreamSource(stream);\r\n        \r\n        // Use AudioWorklet for better performance if available, fallback to ScriptProcessor\r\n        let processor: AudioNode;\r\n        let isProcessing = false;\r\n        \r\n        if (audioContext.audioWorklet) {\r\n          // Modern approach with AudioWorklet (better performance)\r\n          try {\r\n            await audioContext.audioWorklet.addModule('/audio-processor.js');\r\n            processor = new AudioWorkletNode(audioContext, 'audio-processor');\r\n            \r\n            processor.port.onmessage = (event) => {\r\n              if (checkinState.eviWebSocket && \r\n                  checkinState.eviWebSocket.readyState === WebSocket.OPEN && \r\n                  checkinState.phase === 'recording' && \r\n                  !isProcessing) {\r\n                \r\n                isProcessing = true;\r\n                \r\n                // Convert Float32Array to base64 encoded PCM data\r\n                const audioData = event.data;\r\n                const int16Array = new Int16Array(audioData.length);\r\n                \r\n                for (let i = 0; i < audioData.length; i++) {\r\n                  int16Array[i] = Math.max(-32768, Math.min(32767, audioData[i] * 32768));\r\n                }\r\n                \r\n                const base64Audio = btoa(String.fromCharCode(...new Uint8Array(int16Array.buffer)));\r\n                \r\n                const message = {\r\n                  type: 'audio_input',\r\n                  data: base64Audio,\r\n                  encoding: 'linear16',\r\n                  sample_rate: 16000\r\n                };\r\n                \r\n                checkinState.eviWebSocket.send(JSON.stringify(message));\r\n                \r\n                setTimeout(() => { isProcessing = false; }, 50); // Throttle to ~20fps\r\n              }\r\n            };\r\n          } catch (workletError) {\r\n            console.warn('AudioWorklet not available, falling back to ScriptProcessor');\r\n            // Fallback to ScriptProcessor\r\n            processor = audioContext.createScriptProcessor(4096, 1, 1);\r\n          }\r\n        } else {\r\n          // Fallback to ScriptProcessor for older browsers\r\n          processor = audioContext.createScriptProcessor(4096, 1, 1);\r\n        }\r\n        \r\n        // ScriptProcessor fallback implementation\r\n        if (processor instanceof ScriptProcessorNode) {\r\n          processor.onaudioprocess = (event) => {\r\n            if (checkinState.eviWebSocket && \r\n                checkinState.eviWebSocket.readyState === WebSocket.OPEN && \r\n                checkinState.phase === 'recording' && \r\n                !isProcessing) {\r\n              \r\n              isProcessing = true;\r\n              \r\n              const inputBuffer = event.inputBuffer.getChannelData(0);\r\n              \r\n              // Convert to 16-bit PCM and then to base64\r\n              const int16Array = new Int16Array(inputBuffer.length);\r\n              for (let i = 0; i < inputBuffer.length; i++) {\r\n                int16Array[i] = Math.max(-32768, Math.min(32767, inputBuffer[i] * 32768));\r\n              }\r\n              \r\n              const base64Audio = btoa(String.fromCharCode(...new Uint8Array(int16Array.buffer)));\r\n              \r\n              const message = {\r\n                type: 'audio_input',\r\n                data: base64Audio,\r\n                encoding: 'linear16',\r\n                sample_rate: 16000\r\n              };\r\n              \r\n              checkinState.eviWebSocket.send(JSON.stringify(message));\r\n              \r\n              setTimeout(() => { isProcessing = false; }, 50); // Throttle to ~20fps\r\n            }\r\n          };\r\n        }\r\n        \r\n        source.connect(processor);\r\n        if (processor instanceof ScriptProcessorNode) {\r\n          processor.connect(audioContext.destination);\r\n        }\r\n        \r\n        // Store cleanup functions\r\n        const cleanup = () => {\r\n          if (videoStreamInterval) clearInterval(videoStreamInterval);\r\n          processor.disconnect();\r\n          source.disconnect();\r\n          stream.getTracks().forEach(track => track.stop());\r\n          audioContext.close();\r\n        };\r\n        \r\n        // Store cleanup function for later use\r\n        (window as any).humeCleanup = cleanup;\r\n        \r\n      } catch (error) {\r\n        console.error('Error setting up audio capture:', error);\r\n        toast.error('Audio setup failed', {\r\n          description: 'Unable to capture audio for voice analysis and conversation.',\r\n          duration: 3000,\r\n        });\r\n      }\r\n    } else {\r\n      // In demo mode, generate mock vocal emotion data\r\n      const vocalDataInterval = setInterval(() => {\r\n        if (checkinState.phase === 'recording') {\r\n          const mockVocalPoint: EmotionDataPoint = {\r\n            timestamp: Date.now(),\r\n            emotions: {\r\n              joy: Math.random() * 0.4 + 0.2,\r\n              sadness: Math.random() * 0.3,\r\n              anger: Math.random() * 0.15,\r\n              fear: Math.random() * 0.2,\r\n              surprise: Math.random() * 0.25,\r\n              disgust: Math.random() * 0.1,\r\n              contempt: Math.random() * 0.05,\r\n            },\r\n            confidence: Math.random() * 0.2 + 0.8,\r\n            source: 'vocal'\r\n          };\r\n\r\n          setCheckinState(prev => ({\r\n            ...prev,\r\n            emotionData: [...prev.emotionData, mockVocalPoint]\r\n          }));\r\n        }\r\n      }, 800);\r\n      \r\n      // Store cleanup function for demo mode\r\n      (window as any).humeCleanup = () => {\r\n        if (videoStreamInterval) clearInterval(videoStreamInterval);\r\n        clearInterval(vocalDataInterval);\r\n      };\r\n    }\r\n\r\n    // Start countdown timer\r\n    timerRef.current = setInterval(() => {\r\n      setCheckinState(prev => {\r\n        const newTimeRemaining = prev.timeRemaining - 1;\r\n        \r\n        // If timer reaches 0, stop recording\r\n        if (newTimeRemaining <= 0) {\r\n          stopRecording();\r\n          return {\r\n            ...prev,\r\n            timeRemaining: 0,\r\n          };\r\n        }\r\n        \r\n        return {\r\n          ...prev,\r\n          timeRemaining: newTimeRemaining,\r\n        };\r\n      });\r\n    }, 1000);\r\n\r\n    toast.success('Recording started', {\r\n      description: 'Please describe how you\\'ve been feeling.',\r\n      duration: 3000,\r\n    });\r\n  };\r\n\r\n  // Submit emotion data to backend\r\n  const submitEmotionData = async (emotionData: EmotionDataPoint[], transcript: string[]) => {\r\n    try {\r\n      const response = await fetch('/api/checkin', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          patientId: `patient_${Date.now()}`, // Generate temporary patient ID\r\n          transcript: transcript.join('\\n'), // Join conversation transcript\r\n          emotionTimeline: emotionData,\r\n          createdAt: new Date(),\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to submit data: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      console.log('Emotion data submitted successfully:', result);\r\n      \r\n      toast.success('Data saved', {\r\n        description: 'Your check-in data has been securely stored.',\r\n        duration: 3000,\r\n      });\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting emotion data:', error);\r\n      toast.error('Save failed', {\r\n        description: 'Unable to save your check-in data. Please try again.',\r\n        duration: 5000,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Stop recording function\r\n  const stopRecording = async () => {\r\n    // Clear timer\r\n    if (timerRef.current) {\r\n      clearInterval(timerRef.current);\r\n      timerRef.current = null;\r\n    }\r\n\r\n    // Clean up audio processing\r\n    if ((window as any).humeCleanup) {\r\n      (window as any).humeCleanup();\r\n      delete (window as any).humeCleanup;\r\n    }\r\n\r\n    // Submit collected emotion data and conversation transcript to backend\r\n    if (checkinState.emotionData.length > 0 || checkinState.conversationTranscript.length > 0) {\r\n      await submitEmotionData(checkinState.emotionData, checkinState.conversationTranscript);\r\n    }\r\n\r\n    // Set finished phase\r\n    setCheckinState(prev => ({\r\n      ...prev,\r\n      phase: 'finished',\r\n      timeRemaining: 0,\r\n    }));\r\n\r\n    toast.success('Recording completed', {\r\n      description: 'Thank you for completing your check-in.',\r\n      duration: 3000,\r\n    });\r\n  };\r\n\r\n  // Cleanup timer and WebSocket connections on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (timerRef.current) {\r\n        clearInterval(timerRef.current);\r\n      }\r\n      \r\n      // Clean up audio processing\r\n      if ((window as any).humeCleanup) {\r\n        (window as any).humeCleanup();\r\n        delete (window as any).humeCleanup;\r\n      }\r\n      \r\n      // Close WebSocket connections\r\n      if (checkinState.humeWebSocket) {\r\n        checkinState.humeWebSocket.close();\r\n      }\r\n      if (checkinState.eviWebSocket) {\r\n        checkinState.eviWebSocket.close();\r\n      }\r\n    };\r\n  }, [checkinState.humeWebSocket, checkinState.eviWebSocket]);\r\n\r\n  // Render component based on current phase\r\n  return (\r\n    <>\r\n      <CardHeader>\r\n        <CardTitle className=\"text-center text-neutral-900\">\r\n          Patient Check-in\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-6\">\r\n        {checkinState.phase === 'idle' && (\r\n          <>\r\n            {/* Instructions */}\r\n            <div className=\"text-center mb-8 px-4\">\r\n              <div className=\"bg-blue-50 border border-blue-100 rounded-lg p-6 max-w-2xl mx-auto\">\r\n                <p className=\"text-neutral-800 text-lg leading-relaxed font-medium mb-2\">\r\n                  To prepare for your appointment, please take 60 seconds to describe how you&apos;ve been feeling.\r\n                </p>\r\n                <p className=\"text-neutral-600 text-sm\">\r\n                  This helps your healthcare provider better understand your current state and provide more personalized care.\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Webcam Section */}\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n              {checkinState.webcamError ? (\r\n                // Error State\r\n                <div className=\"w-full max-w-md bg-red-50 border border-red-200 rounded-lg p-6 text-center\">\r\n                  <div className=\"text-red-600 font-medium mb-2\">\r\n                    {checkinState.webcamError}\r\n                  </div>\r\n                  <div className=\"text-red-500 text-sm mb-4\">\r\n                    {checkinState.webcamError.includes('denied') && \r\n                      'Please allow camera access in your browser settings and refresh the page.'\r\n                    }\r\n                    {checkinState.webcamError.includes('found') && \r\n                      'Please connect a camera device and refresh the page.'\r\n                    }\r\n                    {!checkinState.webcamError.includes('denied') && \r\n                     !checkinState.webcamError.includes('found') && \r\n                      'Please check your camera permissions and try again.'\r\n                    }\r\n                  </div>\r\n                  <Button \r\n                    onClick={() => window.location.reload()} \r\n                    variant=\"outline\"\r\n                    className=\"text-red-600 border-red-300 hover:bg-red-50\"\r\n                  >\r\n                    Refresh Page\r\n                  </Button>\r\n                </div>\r\n              ) : checkinState.webcamReady ? (\r\n                // Webcam Feed\r\n                <div className=\"w-full max-w-md\">\r\n                  <div className=\"relative rounded-lg overflow-hidden bg-neutral-100 border border-neutral-200\">\r\n                    <Webcam\r\n                      ref={webcamRef}\r\n                      audio={true}\r\n                      width=\"100%\"\r\n                      height=\"auto\"\r\n                      videoConstraints={{\r\n                        width: 640,\r\n                        height: 480,\r\n                        facingMode: \"user\"\r\n                      }}\r\n                      onUserMedia={handleWebcamReady}\r\n                      onUserMediaError={handleWebcamError}\r\n                      className=\"w-full h-auto\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"text-center mt-4\">\r\n                    <p className=\"text-neutral-600 text-sm\">\r\n                      Camera is ready. You can see yourself in the preview above.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                // Loading State\r\n                <div className=\"w-full max-w-md bg-neutral-50 border border-neutral-200 rounded-lg p-8 text-center\">\r\n                  <div className=\"animate-pulse\">\r\n                    <div className=\"bg-neutral-300 rounded-lg h-48 mb-4\"></div>\r\n                    <div className=\"text-neutral-600\">\r\n                      Requesting camera access...\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Connection Status */}\r\n              {checkinState.webcamReady && !checkinState.webcamError && (\r\n                <div className=\"text-center space-y-3\">\r\n                  {checkinState.isConnecting && (\r\n                    <div className=\"text-neutral-600 text-sm\">\r\n                      <div className=\"animate-pulse\">Connecting to emotion analysis services...</div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!checkinState.isConnecting && checkinState.humeToken && (\r\n                    <div className=\"space-y-2\">\r\n                      {checkinState.humeToken === 'demo-mode' ? (\r\n                        <div className=\"text-blue-600 text-sm flex items-center justify-center space-x-2\">\r\n                          <div className=\"w-2 h-2 bg-blue-500 rounded-full\"></div>\r\n                          <span>Demo mode ready (mock emotion data)</span>\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"space-y-1\">\r\n                          <div className=\"text-green-600 text-sm flex items-center justify-center space-x-2\">\r\n                            <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n                            <span>Emotion analysis ready</span>\r\n                          </div>\r\n                          \r\n                          {/* Individual service status */}\r\n                          <div className=\"flex justify-center space-x-4 text-xs\">\r\n                            <div className={`flex items-center space-x-1 ${\r\n                              checkinState.connectionStatus.facial === 'connected' ? 'text-green-600' :\r\n                              checkinState.connectionStatus.facial === 'error' ? 'text-red-600' :\r\n                              checkinState.connectionStatus.facial === 'connecting' ? 'text-yellow-600' :\r\n                              'text-gray-500'\r\n                            }`}>\r\n                              <div className={`w-1.5 h-1.5 rounded-full ${\r\n                                checkinState.connectionStatus.facial === 'connected' ? 'bg-green-500' :\r\n                                checkinState.connectionStatus.facial === 'error' ? 'bg-red-500' :\r\n                                checkinState.connectionStatus.facial === 'connecting' ? 'bg-yellow-500' :\r\n                                'bg-gray-400'\r\n                              }`}></div>\r\n                              <span>Facial</span>\r\n                            </div>\r\n                            \r\n                            <div className={`flex items-center space-x-1 ${\r\n                              checkinState.connectionStatus.vocal === 'connected' ? 'text-green-600' :\r\n                              checkinState.connectionStatus.vocal === 'error' ? 'text-red-600' :\r\n                              checkinState.connectionStatus.vocal === 'connecting' ? 'text-yellow-600' :\r\n                              'text-gray-500'\r\n                            }`}>\r\n                              <div className={`w-1.5 h-1.5 rounded-full ${\r\n                                checkinState.connectionStatus.vocal === 'connected' ? 'bg-green-500' :\r\n                                checkinState.connectionStatus.vocal === 'error' ? 'bg-red-500' :\r\n                                checkinState.connectionStatus.vocal === 'connecting' ? 'bg-yellow-500' :\r\n                                'bg-gray-400'\r\n                              }`}></div>\r\n                              <span>Voice AI</span>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {!checkinState.isConnecting && !checkinState.humeToken && (\r\n                    <div className=\"text-red-600 text-sm flex items-center justify-center space-x-2\">\r\n                      <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\r\n                      <span>Connection failed - emotion analysis unavailable</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              {/* Start Button - only show when webcam is ready and connections are established */}\r\n              {checkinState.webcamReady && !checkinState.webcamError && (\r\n                <Button \r\n                  size=\"lg\"\r\n                  className=\"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg disabled:bg-neutral-400\"\r\n                  onClick={startRecording}\r\n                  disabled={\r\n                    checkinState.phase !== 'idle' || \r\n                    checkinState.isConnecting || \r\n                    !checkinState.humeToken\r\n                  }\r\n                >\r\n                  {checkinState.isConnecting ? 'Connecting...' : 'Start 60-Second Check-in'}\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {checkinState.phase === 'recording' && (\r\n          <>\r\n            {/* Recording State */}\r\n            <div className=\"flex flex-col items-center space-y-6\">\r\n              {/* Webcam Feed during recording */}\r\n              <div className=\"w-full max-w-md\">\r\n                <div className=\"relative rounded-lg overflow-hidden bg-neutral-100 border-2 border-red-500\">\r\n                  <Webcam\r\n                    ref={webcamRef}\r\n                    audio={true}\r\n                    width=\"100%\"\r\n                    height=\"auto\"\r\n                    videoConstraints={{\r\n                      width: 640,\r\n                      height: 480,\r\n                      facingMode: \"user\"\r\n                    }}\r\n                    className=\"w-full h-auto\"\r\n                  />\r\n                  {/* Recording indicator */}\r\n                  <div className=\"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-2\">\r\n                    <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\"></div>\r\n                    <span>Recording</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Timer and Progress */}\r\n              <div className=\"w-full max-w-md space-y-4\">\r\n                <div className=\"text-center\">\r\n                  <div className=\"text-3xl font-bold text-neutral-900 mb-2\">\r\n                    {Math.floor(checkinState.timeRemaining / 60)}:{(checkinState.timeRemaining % 60).toString().padStart(2, '0')}\r\n                  </div>\r\n                  <p className=\"text-neutral-600 mb-2\">\r\n                    Please describe how you've been feeling\r\n                  </p>\r\n                  {checkinState.humeToken !== 'demo-mode' && (\r\n                    <p className=\"text-sm text-blue-600\">\r\n                       AI assistant is listening and ready to help you practice\r\n                    </p>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Progress Bar */}\r\n                <div className=\"space-y-2\">\r\n                  <Progress \r\n                    value={((60 - checkinState.timeRemaining) / 60) * 100} \r\n                    className=\"h-3\"\r\n                  />\r\n                  <div className=\"flex justify-between text-sm text-neutral-500\">\r\n                    <span>0:00</span>\r\n                    <span>1:00</span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Emotion Analysis Status */}\r\n                {checkinState.emotionData.length > 0 && (\r\n                  <div className=\"bg-green-50 border border-green-200 rounded-lg p-3\">\r\n                    <div className=\"text-center\">\r\n                      <div className=\"text-sm text-green-700 font-medium mb-1\">\r\n                        Emotion Analysis Active\r\n                      </div>\r\n                      <div className=\"text-xs text-green-600\">\r\n                        {checkinState.emotionData.filter(d => d.source === 'facial').length} facial readings, {' '}\r\n                        {checkinState.emotionData.filter(d => d.source === 'vocal').length} vocal readings\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Instructions during recording */}\r\n              <div className=\"text-center max-w-md\">\r\n                <p className=\"text-neutral-600 text-sm\">\r\n                  Speak naturally and describe your current health concerns, symptoms, or how you&apos;ve been feeling recently.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {checkinState.phase === 'finished' && (\r\n          <>\r\n            {/* Completion State */}\r\n            <div className=\"text-center space-y-6\">\r\n              <div className=\"bg-green-50 border border-green-100 rounded-lg p-8 max-w-md mx-auto\">\r\n                <div className=\"text-green-600 text-6xl mb-4\"></div>\r\n                <h3 className=\"text-2xl font-bold text-neutral-900 mb-2\">\r\n                  Thank You!\r\n                </h3>\r\n                <p className=\"text-neutral-700 mb-4\">\r\n                  Your check-in has been completed successfully.\r\n                </p>\r\n                <p className=\"text-neutral-600 text-sm\">\r\n                  Your healthcare provider will review this information before your appointment.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {/* Debug info - will be removed in future tasks */}\r\n        {process.env.NODE_ENV === 'development' && (\r\n          <div className=\"text-xs text-neutral-400 border-t pt-4 mt-6\">\r\n            <p>Debug: Phase: {checkinState.phase}</p>\r\n            <p>Debug: Webcam Ready: {checkinState.webcamReady ? 'Yes' : 'No'}</p>\r\n            <p>Debug: Time Remaining: {checkinState.timeRemaining}s</p>\r\n            <p>Debug: Error: {checkinState.webcamError || 'None'}</p>\r\n            <p>Debug: Hume Token: {checkinState.humeToken ? 'Available' : 'None'}</p>\r\n            <p>Debug: Expression WS: {\r\n              checkinState.humeToken === 'demo-mode' \r\n                ? 'Demo Mode' \r\n                : checkinState.humeWebSocket?.readyState === WebSocket.OPEN \r\n                  ? 'Connected' \r\n                  : 'Disconnected'\r\n            }</p>\r\n            <p>Debug: EVI WS: {\r\n              checkinState.humeToken === 'demo-mode' \r\n                ? 'Demo Mode' \r\n                : checkinState.eviWebSocket?.readyState === WebSocket.OPEN \r\n                  ? 'Connected' \r\n                  : 'Disconnected'\r\n            }</p>\r\n            <p>Debug: Emotion Data Points: {checkinState.emotionData.length}</p>\r\n            {checkinState.emotionData.length > 0 && (\r\n              <div className=\"mt-2\">\r\n                <p>Latest Emotions:</p>\r\n                {checkinState.emotionData.slice(-3).map((point, index) => (\r\n                  <div key={index} className=\"ml-2 text-xs\">\r\n                    <span className=\"font-mono\">\r\n                      {point.source}: Joy:{point.emotions.joy.toFixed(2)} \r\n                      Sad:{point.emotions.sadness.toFixed(2)} \r\n                      Anger:{point.emotions.anger.toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}